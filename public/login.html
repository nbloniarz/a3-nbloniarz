<!doctype html>
<html lang="en">
  <head>
    <title>CS4241 Assignment 3</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://www.gstatic.com/firebasejs/6.6.0/firebase-app.js"></script>
    <script src="js/scripts.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div id="login">
      <form action="" class="LOGIN" id="LOGIN">
        <legend>Login</legend>
        <label for="user">Username</label>
        <input type="text" class="user" value="your username here"><br>
        <label for="password">Last Name</label>
        <input type="password" class="password" value="password"><br>
        <button id="loginButton">Go</button>
      </form>
    </div>
    
  </body>
  <script>
    const login = function(e){
     /* const body = JSON.stringify({username: 'new', password:'new'})
      fetch( '/addUser', {
        method:'POST',
        headers: {'Content-Type': 'application/json'},
        body
      }).then(function(response){
      console.log(response)
    })*/
    const body = JSON.stringify({username: document.querySelector( '.user' ).value, password: document.querySelector( '.password' ).value}) 
    fetch( '/doLogin', {
        method:'POST',
        headers: {'Content-Type': 'application/json'},
        body
      })
      .then(function(response){
          window.load(response.url)
      })
    }
    
      window.onload = function(){
      const subButton = document.querySelector( '#loginButton' )
      subButton.onclick = login
      }
  </script>
</html>